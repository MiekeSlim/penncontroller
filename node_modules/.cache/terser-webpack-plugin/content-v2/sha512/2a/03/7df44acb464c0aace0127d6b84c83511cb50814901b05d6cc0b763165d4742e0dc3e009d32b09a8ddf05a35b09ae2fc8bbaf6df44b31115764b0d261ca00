{"code":"/*! $AC$ PennController.newKey(name,key) Creates a new Key element $AC$$AC$ PennController.getKey(name) Retrieves an existing Key element $AC$$AC$ Key PElement.wait() Waits until the key, or one of the keys, is pressed before proceeding $AC$$AC$ Key PElement.settings.callback(commands) Will run the specified command(s) whenever a valid keypress happens $AC$$AC$ Key PElement.settings.disable() Stops listening to keypresses $AC$$AC$ Key PElement.settings.enable() Starts listening to keypresses (again) $AC$$AC$ Key PElement.settings.log() Will log any valid keypress in the results file $AC$$AC$ Key PElement.test.pressed(key) Checks that the key, or any key if none specified, has been pressed before $AC$ */!function(E){var e={};function A(O){if(e[O])return e[O].exports;var t=e[O]={i:O,l:!1,exports:{}};return E[O].call(t.exports,t,t.exports,A),t.l=!0,t.exports}A.m=E,A.c=e,A.d=function(E,e,O){A.o(E,e)||Object.defineProperty(E,e,{enumerable:!0,get:O})},A.r=function(E){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(E,\"__esModule\",{value:!0})},A.t=function(E,e){if(1&e&&(E=A(E)),8&e)return E;if(4&e&&\"object\"==typeof E&&E&&E.__esModule)return E;var O=Object.create(null);if(A.r(O),Object.defineProperty(O,\"default\",{enumerable:!0,value:E}),2&e&&\"string\"!=typeof E)for(var t in E)A.d(O,t,function(e){return E[e]}.bind(null,t));return O},A.n=function(E){var e=E&&E.__esModule?function(){return E.default}:function(){return E};return A.d(e,\"a\",e),e},A.o=function(E,e){return Object.prototype.hasOwnProperty.call(E,e)},A.p=\"\",A(A.s=124)}({124:function(E,e){window.PennController._AddElementType(\"Key\",function(E){let e=[\"UNIDENTIFIED\",\"ALT\",\"ALTGRAPH\",\"CAPSLOCK\",\"CONTROL\",\"FN\",\"FNLOCK\",\"META\",\"NUMLOCK\",\"SCROLLLOCK\",\"SHIFT\",\"SYMBOL\",\"SYMBOLLOCK\",\"HYPER\",\"SUPER\",\"ENTER\",\"TAB\",\"ARROWDOWN\",\"ARROWLEFT\",\"ARROWRIGHT\",\"ARROWUP\",\"END\",\"HOME\",\"PAGEDOWN\",\"PAGEUP\",\"BACKSPACE\",\"CLEAR\",\"COPY\",\"CRSEL\",\"CUT\",\"DELETE\",\"ERASEEOF\",\"EXSEL\",\"INSERT\",\"PASTE\",\"REDO\",\"UNDO\",\"ACCEPT\",\"AGAIN\",\"ATTN\",\"CANCEL\",\"CONTEXTMENU\",\"ESCAPE\",\"EXECUTE\",\"FIND\",\"HELP\",\"PAUSE\",\"PLAY\",\"PROPS\",\"SELECT\",\"ZOOMIN\",\"ZOOMOUT\",\"BRIGHTNESSDOWN\",\"BRIGHTNESSUP\",\"EJECT\",\"LOGOFF\",\"POWER\",\"POWEROFF\",\"PRINTSCREEN\",\"HIBERNATE\",\"STANDBY\",\"WAKEUP\",\"ALLCANDIDATES\",\"ALPHANUMERIC\",\"CODEINPUT\",\"COMPOSE\",\"CONVERT\",\"DEAD\",\"FINALMODE\",\"GROUPFIRST\",\"GROUPLAST\",\"GROUPNEXT\",\"GROUPPREVIOUS\",\"MODECHANGE\",\"NEXTCANDIDATE\",\"NONCONVERT\",\"PREVIOUSCANDIDATE\",\"PROCESS\",\"SINGLECANDIDATE\",\"HANGULMODE\",\"HANJAMODE\",\"JUNJAMODE\",\"EISU\",\"HANKAKU\",\"HIRAGANA\",\"HIRAGANAKATAKANA\",\"KANAMODE\",\"KANJIMODE\",\"KATAKANA\",\"ROMAJI\",\"ZENKAKU\",\"ZENKAKUHANKAKU\",\"F1\",\"F2\",\"F3\",\"F4\",\"F5\",\"F6\",\"F7\",\"F8\",\"F9\",\"F10\",\"F11\",\"F12\",\"SOFT1\",\"SOFT2\",\"SOFT3\",\"SOFT4\",\"CHANNELDOWN\",\"CHANNELUP\",\"CLOSE\",\"MAILFORWARD\",\"MAILREPLY\",\"MAILSEND\",\"MEDIACLOSE\",\"MEDIAFASTFORWARD\",\"MEDIAPAUSE\",\"MEDIAPLAY\",\"MEDIAPLAYPAUSE\",\"MEDIARECORD\",\"MEDIAREWIND\",\"MEDIASTOP\",\"MEDIATRACKNEXT\",\"MEDIATRACKPREVIOUS\",\"NEW\",\"OPEN\",\"PRINT\",\"SAVE\",\"SPELLCHECK\",\"KEY11\",\"KEY12\",\"AUDIOBALANCELEFT\",\"AUDIOBALANCERIGHT\",\"AUDIOBASSBOOSTDOWN\",\"AUDIOBASSBOOSTTOGGLE\",\"AUDIOBASSBOOSTUP\",\"AUDIOFADERFRONT\",\"AUDIOFADERREAR\",\"AUDIOSURROUNDMODENEXT\",\"AUDIOTREBLEDOWN\",\"AUDIOTREBLEUP\",\"AUDIOVOLUMEDOWN\",\"AUDIOVOLUMEUP\",\"AUDIOVOLUMEMUTE\",\"MICROPHONETOGGLE\",\"MICROPHONEVOLUMEDOWN\",\"MICROPHONEVOLUMEUP\",\"MICROPHONEVOLUMEMUTE\",\"SPEECHCORRECTIONLIST\",\"SPEECHINPUTTOGGLE\",\"LAUNCHAPPLICATION1\",\"LAUNCHAPPLICATION2\",\"LAUNCHCALENDAR\",\"LAUNCHCONTACTS\",\"LAUNCHMAIL\",\"LAUNCHMEDIAPLAYER\",\"LAUNCHMUSICPLAYER\",\"LAUNCHPHONE\",\"LAUNCHSCREENSAVER\",\"LAUNCHSPREADSHEET\",\"LAUNCHWEBBROWSER\",\"LAUNCHWEBCAM\",\"LAUNCHWORDPROCESSOR\",\"BROWSERBACK\",\"BROWSERFAVORITES\",\"BROWSERFORWARD\",\"BROWSERHOME\",\"BROWSERREFRESH\",\"BROWSERSEARCH\",\"BROWSERSTOP\",\"APPSWITCH\",\"CALL\",\"CAMERA\",\"CAMERAFOCUS\",\"ENDCALL\",\"GOBACK\",\"GOHOME\",\"HEADSETHOOK\",\"LASTNUMBERREDIAL\",\"NOTIFICATION\",\"MANNERMODE\",\"VOICEDIAL\",\"TV\",\"TV3DMODE\",\"TVANTENNACABLE\",\"TVAUDIODESCRIPTION\",\"TVAUDIODESCRIPTIONMIXDOWN\",\"TVAUDIODESCRIPTIONMIXUP\",\"TVCONTENTSMENU\",\"TVDATASERVICE\",\"TVINPUT\",\"TVINPUTCOMPONENT1\",\"TVINPUTCOMPONENT2\",\"TVINPUTCOMPOSITE1\",\"TVINPUTCOMPOSITE2\",\"TVINPUTHDMI1\",\"TVINPUTHDMI2\",\"TVINPUTHDMI3\",\"TVINPUTHDMI4\",\"TVINPUTVGA1\",\"TVMEDIACONTEXT\",\"TVNETWORK\",\"TVNUMBERENTRY\",\"TVPOWER\",\"TVRADIOSERVICE\",\"TVSATELLITE\",\"TVSATELLITEBS\",\"TVSATELLITECS\",\"TVSATELLITETOGGLE\",\"TVTERRESTRIALANALOG\",\"TVTERRESTRIALDIGITAL\",\"TVTIMER\",\"AVRINPUT\",\"AVRPOWER\",\"COLORF0RED\",\"COLORF1GREEN\",\"COLORF2YELLOW\",\"COLORF3BLUE\",\"COLORF4GREY\",\"COLORF5BROWN\",\"CLOSEDCAPTIONTOGGLE\",\"DIMMER\",\"DISPLAYSWAP\",\"DVR\",\"EXIT\",\"FAVORITECLEAR0\",\"FAVORITECLEAR1\",\"FAVORITECLEAR2\",\"FAVORITECLEAR3\",\"FAVORITERECALL0\",\"FAVORITERECALL1\",\"FAVORITERECALL2\",\"FAVORITERECALL3\",\"FAVORITESTORE0\",\"FAVORITESTORE1\",\"FAVORITESTORE2\",\"FAVORITESTORE3\",\"GUIDE\",\"GUIDENEXTDAY\",\"GUIDEPREVIOUSDAY\",\"INFO\",\"INSTANTREPLAY\",\"LINK\",\"LISTPROGRAM\",\"LIVECONTENT\",\"LOCK\",\"MEDIAAPPS\",\"MEDIAAUDIOTRACK\",\"MEDIALAST\",\"MEDIASKIPBACKWARD\",\"MEDIASKIPFORWARD\",\"MEDIASTEPBACKWARD\",\"MEDIASTEPFORWARD\",\"MEDIATOPMENU\",\"NAVIGATEIN\",\"NAVIGATENEXT\",\"NAVIGATEOUT\",\"NAVIGATEPREVIOUS\",\"NEXTFAVORITECHANNEL\",\"NEXTUSERPROFILE\",\"ONDEMAND\",\"PAIRING\",\"PINPDOWN\",\"PINPMOVE\",\"PINPTOGGLE\",\"PINPUP\",\"PLAYSPEEDDOWN\",\"PLAYSPEEDRESET\",\"PLAYSPEEDUP\",\"RANDOMTOGGLE\",\"RCLOWBATTERY\",\"RECORDSPEEDNEXT\",\"RFBYPASS\",\"SCANCHANNELSTOGGLE\",\"SCREENMODENEXT\",\"SETTINGS\",\"SPLITSCREENTOGGLE\",\"STBINPUT\",\"STBPOWER\",\"SUBTITLE\",\"TELETEXT\",\"VIDEOMODENEXT\",\"WINK\",\"ZOOMTOGGLE\",\"AUDIOVOLUMEDOWN\",\"AUDIOVOLUMEUP\",\"AUDIOVOLUMEMUTE\",\"BROWSERBACK\",\"BROWSERFORWARD\",\"CHANNELDOWN\",\"CHANNELUP\",\"CONTEXTMENU\",\"EJECT\",\"END\",\"ENTER\",\"HOME\",\"MEDIAFASTFORWARD\",\"MEDIAPLAY\",\"MEDIAPLAYPAUSE\",\"MEDIARECORD\",\"MEDIAREWIND\",\"MEDIASTOP\",\"MEDIANEXTTRACK\",\"MEDIAPAUSE\",\"MEDIAPREVIOUSTRACK\",\"POWER\"];this.immediate=function(A,...O){O.length<1&&(this.id=E.utils.guidGenerator(),O=[A]),this.keys=[],this.specialKeys=[];for(let t=0;t<O.length;t++)Number(O[t])>0?this.keys.push(String.fromCharCode(O[t])):\"string\"!=typeof O[t]?E.debug.error(\"Invalid key(s) passed to new Key &quot;\"+A+\"&quot; (should be a string or a key code number)\",O[t]):e.indexOf(O[t].toUpperCase())>-1?this.specialKeys.push(O[t].toUpperCase()):this.keys.push(O[t].toUpperCase())},this.uponCreation=function(A){this.pressed=[],this.pressedWait=[],this.log=!1,this.enabled=!0,E.events.keypress(E=>{if(!this.enabled)return;let A=e.indexOf(E.key.toUpperCase())>-1;(0==this.keys.length&&0==this.specialKeys.length||A&&this.specialKeys.filter(e=>e==E.key.toUpperCase()).length||!A&&this.keys.filter(e=>e.indexOf(E.key.toUpperCase())>-1).length)&&this.press(E.key)}),this.press=(E=>{this.pressed.push([\"Key\",E,Date.now(),\"NULL\"])}),A()},this.end=function(){if(this.log&&this.log instanceof Array)if(this.pressed.length||E.controllers.running.save(this.type,this.id,\"Key\",\"NA\",\"Never\",\"NULL\"),this.log.indexOf(\"all\")>-1)for(let e in this.pressed)E.controllers.running.save(this.type,this.id,...this.pressed[e]);else if(this.log.indexOf(\"wait\")){let e=!1;for(let A in this.pressed)\"Wait success\"==this.pressed[A][3]&&(E.controllers.running.save(this.type,this.id,...this.pressed[A]),e=!0);e||E.controllers.running.save(this.type,this.id,\"Key\",\"NA\",\"Never\",\"(failed keypresses happened)\")}else 1==this.pressed.length?E.controllers.running.save(this.type,this.id,...this.pressed[0]):(this.log.indexOf(\"first\")>-1&&E.controllers.running.save(this.type,this.id,...this.pressed[0]),this.log.indexOf(\"last\")>-1&&E.controllers.running.save(this.type,this.id,...this.pressed[this.pressed.length-1]))},this.value=function(){return this.pressed.length?this.pressed[this.pressed.length-1][1]:\"\"},this.actions={wait:function(E,e){if(\"first\"==e&&this.pressed.length)E();else{let A=!1,O=this.press;this.press=(t=>{if(O.apply(this,[t]),!A)if(e instanceof Object&&e._runPromises&&e.success){let O=this.enabled;this.enabled=0,e._runPromises().then(e=>{\"success\"==e?(this.pressed[this.pressed.length-1][3]=\"Wait success\",A=!0,E()):this.pressed[this.pressed.length-1][3]=\"Wait failure\",0===this.enabled&&(this.enabled=O)})}else A=!0,E()})}}},this.settings={callback:function(E,...e){let A=this.press;this.press=async function(E){if(!this.disabled)for(let E in e)await e[E]._runPromises();A.apply(this,[E])},E()},disable:function(E){this.enabled=!1,E()},enable:function(E){this.enabled=!0,E()},log:function(E,...e){e.length?this.log=e:this.log=[\"wait\"],E()}},this.test={pressed:function(E,e){for(let A in this.pressed){let O=this.pressed[A][1];if(Number(E)>0&&O.toUpperCase()==String.fromCharCode(E).toUpperCase())return!0;if(\"string\"==typeof E&&E.toUpperCase()==O.toUpperCase())return!0;if(void 0===E)return!0;if(e)return!1}return!1}}})}});","extractedComments":[]}