{"code":"/*! $AC$ PennController.newGroup(name,elements) Creates a new Group element $AC$$AC$ PennController.getGroup(name) Retrieves an existing Group element $AC$$AC$ Group PElement.shuffle() Shuffles the positions of the elements on the page $AC$$AC$ Group PElement.settings.add(elements) Adds one or more elements to the group $AC$$AC$ Group PElement.settings.remove(elements) Removes one or more elements from the group $AC$$AC$ Group PElement.test.index(element,index) Checks the index of the specified element in the group $AC$$AC$ all PElements.settings.group(name) Adds the element to the Group element with the specified name $AC$ */!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=140)}({140:function(t,n){!function(){var t=null;let n=window.PennController.ResetPrefix;window.PennController.ResetPrefix=function(e){n(e),t=\"string\"==typeof t?window[e]:window},window.PennController._AddElementType(\"Group\",function(n){n.Prerun(()=>{for(let e in PennController.Elements){if(!e.match(/get[A-Z]/))continue;let o=PennController.Elements[e];PennController.Elements[e]=function(t){if(t instanceof Object&&t.hasOwnProperty(\"type\")&&\"Group\"==t.type){let i=o(),r={},s={};for(let e in i.settings)r[e]=i.settings[e];for(let e in i)e instanceof Function&&(s[e]=i[e]);let l=[];for(let n in t._element.elements){let o=t._element.elements[n];e.match(o.type)&&l.push(o)}if(!l.length)return n.debug.error(\"No element for \"+e+\" in Group &quot;\"+t._element.id+\"&quot;\");for(let e in i.settings)i.settings[e]=function(...t){for(let n in l)i._promises=i._promises.concat(o(l[n].id).settings[e](...t)._promises);return i};for(let e in i)e instanceof Function&&(i[e]=function(...t){for(let n in l)i._promises=i._promises.concat(o(l[n].id)[e](...t)._promises);return i});return i}return o(t)},t&&(t[e]=window.PennController.Elements[e])}}),this.immediate=function(e,...t){if(\"string\"!=typeof e&&e instanceof Object&&e.hasOwnProperty(\"_element\")){t=[e,...t],void 0!==e&&\"string\"==typeof e&&0!=e.length||(e=\"Group\");let o=n.controllers.underConstruction;n.controllers.running&&(o=n.controllers.list[n.controllers.running.id]);let i=2;for(;o.elements.hasOwnProperty(\"Group\")&&o.elements.Group.hasOwnProperty(e);)e+=String(i);this.id=e}this.initialElements=t},this.uponCreation=function(e){this.elements=this.initialElements.map(e=>e._element||n.debug.error(\"Invalid element passed to Group\")),e()},this.end=function(){this.elements=[]},this.value=function(){return this.elements.length},this.actions={shuffle:function(e,...t){(function(e,...t){let o=[];if(t.length)for(let e in t){if(!(t[e]._element&&t[e]._element.jQueryElement instanceof jQuery)){n.debug.error(\"Invalid element #\"+e+\" in shuffling Group \"+this.id);continue}let i=this.elements.map(e=>e[0]).indexOf(t[e]._element);i<0?n.debug.error(\"Cannot shuffle element \"+t[e]._element.id+\" for it has not been added to Group \"+this.id):o.push(this.elements[i])}else o=[].concat(this.elements);let i=[].concat(o);fisherYates(i);let r=i.map((e,t)=>Object({old:{element:o[t],index:this.elements.indexOf(o[t])},new:{element:e,index:this.elements.indexOf(e)}})),s=[];r.map((e,t)=>{this.elements[e.old.index]=e.new.element;let n=$(\"<shuffle>\").attr(\"i\",t);e.old.element.jQueryElement.before(n),n.css({position:e.old.element.jQueryElement.css(\"position\"),left:e.old.element.jQueryElement.css(\"left\"),top:e.old.element.jQueryElement.css(\"top\")}),s.push(n)}),s.map(e=>{let t=e.attr(\"i\"),n=r[t].new.element.jQueryElement;e.after(n),n.css({position:e.css(\"position\"),left:e.css(\"left\"),top:e.css(\"top\")}),e.remove()}),e()}).apply(this,[e].concat(t))}};let o=this;this.actions={remove:function(e,...t){t.length?o.settings.remove.call(this,e,...t):n.elements.standardCommands.actions.remove.call(this,e)}},this.settings={add:function(t,...o){for(e in o){let t=o[e]._element;null==t||null==t.id?n.debug.error(\"Invalid element added to Group \"+this.id):this.elements.indexOf(t)>-1?n.debug.error(\"Element &quot;\"+t.id+\"&quot; already part of Group \"+this.id):this.elements.push(t)}t()},remove:function(t,...n){for(e in n){let t=n[e]._element,o=this.elements.indexOf(t);o>-1&&(this.elements=this.elements.splice(o,1))}t()}};for(let e in n.elements.standardCommands.actions)this.actions[e]=async function(t,...n){for(let t=0;t<this.elements.length;t++)await PennController.Elements[\"get\"+this.elements[t].type](this.elements[t].id)[e](...n)._runPromises();t()};for(let e in n.elements.standardCommands.settings)this.settings[e]=async function(t,...n){for(let t=0;t<this.elements.length;t++)console.log(\"this\",this.elements,this.elements[t].type),await PennController.Elements[\"get\"+this.elements[t].type](this.elements[t].id).settings[e](...n)._runPromises();t()};this.test={index:function(e,t){return null==e||null==e._element?n.debug.error(\"Invalid element tested for Group \"+this.id,e._element.id):Number(t)>=0?this.elements.indexOf(e._element)==Number(t):this.elements.indexOf(e._element)>=0}}}),window.PennController._AddStandardCommands(function(e){this.settings={group:async function(t,n){var o;if(\"string\"==typeof n){let t=e.controllers.running.options.elements;if(!t.hasOwnProperty(\"Group\")||!t.Group.hasOwnProperty(n))return e.debug.error(\"No Group found named &quot;\"+n+\"&quot;\");o=t.Group[n]}else n._element&&n._runPromises&&(\"Group\"==n._element.type?(await n._runPromises(),o=n._element):e.debug.error(\"Tried to add &quot;\"+this.name+\"&quot; to an invalid Group\"));o.elements.indexOf(this)>-1?e.debug.error(\"Element &quot;\"+this.id+\"&quot; already part of Group &quot;\"+o.id+\"&quot;\"):o.elements.push(this),t()}}})}()}});","extractedComments":[]}