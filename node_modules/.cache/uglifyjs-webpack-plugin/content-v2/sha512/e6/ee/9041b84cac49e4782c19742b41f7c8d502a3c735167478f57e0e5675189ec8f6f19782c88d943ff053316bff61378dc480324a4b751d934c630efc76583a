{"code":"!function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p=\"\",e(e.s=66)}({66:function(t,i){window.PennController._AddElementType(\"Scale\",function(t){function i(){this.table.find(\"input\").attr(\"disabled\",!0),this.table.find(\"td\").css(\"cursor\",\"\"),this.disabled=!0}function e(){if(\"slider\"==this.scaleType&&\"vertical\"==this.orientation){let t=this.table.find(\"input\");this.table.css({\"table-layout\":\"fixed\",height:t.width(),width:this.table.width()-t.width()+t.height()+10+\"px\"}),t.parent().css(\"width\",t.height()),t.css(\"margin-left\",-.5*(t.width()-t.height())+\"px\")}else if(\"auto\"==this.width){let t=0,i=0;this.table.find(\"td\").each(function(){i++;let e=$(this).outerWidth();e>t&&(t=e)}),this.table.css({\"table-layout\":\"fixed\",width:i/this.table.find(\"tr\").length*(t+1)})}}function s(){let t=this.defaultValue,i=this.orientation,s=this.scaleType;this.table.empty();let n=[];for(let i=0;i<this.buttons.length;i++){let e=$(\"<td>\").addClass(\"PennController-\"+this.type+\"-scaleButton\"),h=$(\"<td>\").addClass(\"PennController-\"+this.type+\"-label\"),a=this.buttons[i];switch(h.html(a),a||(a=i),s){case\"buttons\":e.html(a),this.disabled||e.css(\"cursor\",\"pointer\"),e.click(()=>{this.disabled||(this.choice(a),this.table.find(\"td\").css(\"border\",\"\"),e.css(\"border\",\"dotted 1px gray\"))}),t!=a&&t!=i||(e.css(\"border\",\"dotted 1px gray\"),this.choices.push([\"Default\",t,Date.now(),\"button\"]));break;case\"slider\":if(t==a||t==i)var l=i;break;case\"radio\":default:let n=$(\"<input>\").attr({name:this.id,value:a,type:\"radio\"});t!=a&&t!=i||(n.attr(\"checked\",!0),this.choices.push([\"Default\",t,Date.now(),\"radio\"])),this.disabled&&n.attr(\"disabled\",!0),e.append(n),n.click(()=>this.choice(a))}n.push([e,h])}if(\"slider\"==s){var h=$(\"<input>\").attr({type:\"range\",min:\"0\",max:String(this.buttons.length-1),value:String((this.buttons.length-1)/2),step:\"1\"});void 0!=l&&(h.attr(\"value\",l),this.choices.push([\"Default\",t,Date.now(),\"slider\"])),this.disabled&&h.attr(\"disabled\",!0),h[0].oninput=(()=>{this.firstClick||(this.firstClick=Date.now())}),h[0].onchange=(()=>this.choice(h[0].value))}if(i&&\"horizontal\"!=i)n.map(t=>{let i=$(\"<tr>\");i.append(t[0]),\"top\"==this.labels?i.prepend(t[1]):\"bottom\"==this.labels&&i.append(t[1]),this.table.append(i)}),h&&(n[0][0].after($(\"<td>\").attr(\"rowspan\",n.length).append(h.css({transform:\"rotate(-90deg)\"}))),n.map(t=>t[0].css(\"width\",0)),this.jQueryElement.parent().length&&e.apply(this));else{let t=$(\"<tr>\").addClass(\"PennController-\"+this.type+\"-scale\"),i=$(\"<tr>\").addClass(\"PennController-\"+this.type+\"-labels\");n.map(e=>{t.append(e[0].css(\"text-align\",\"center\")),i.append(e[1].css(\"text-align\",\"center\"))}),this.table.append(t),\"top\"==this.labels?(this.table.prepend(i),this.jQueryElement.css(\"vertical-align\",\"bottom\")):\"bottom\"==this.labels&&(this.table.append(i),this.jQueryElement.css(\"vertical-align\",\"top\")),h&&t.after($(\"<tr>\").append($(\"<td>\").attr(\"colspan\",n.length).append(h.css(\"width\",\"100%\"))))}this.width&&this.table.css({\"table-layout\":\"fixed\",width:this.width})}this.immediate=function(i,...e){e.length?Number(e[0])>0?this.buttons=new Array(Number(e[0])):this.buttons=e:console.error(\"Invalid parameters for scale \"+i+\" in PennController #\"+t.controllers.underConstruction.id)},this.uponCreation=function(t){this.table=$(\"<table>\"),this.jQueryElement=$(\"<div>\").css(\"display\",\"inline-block\").append(this.table),this.choices=[],this.log=!1,this.labels=!1,this.disabled=!1,this.vertical=!1,this.scaleType=\"radio\",this.defaultValue=null,this.orientation=\"horizontal\",this.width=null,this.choice=(t=>{if(this.disabled)return;let i=null;\"slider\"==this.scaleType&&this.firstClick&&(i=Date.now()-this.firstClick,this.firstClick=void 0),this.choices.push([\"Choice\",t,Date.now(),i])}),t()},this.end=function(){if(this.log&&this.log instanceof Array)if(this.choices.length)if(1==this.choices.length)t.controllers.running.save(this.type,this.id,...this.choices[0]);else if(this.log.indexOf(\"all\")>-1)for(let i in this.choices)t.controllers.running.save(this.type,this.id,...this.choices[i]);else this.log.indexOf(\"first\")>-1&&t.controllers.running.save(this.type,this.id,...this.choices[0]),this.log.indexOf(\"last\")>-1&&t.controllers.running.save(this.type,this.id,...this.choices[this.choices.length-1]);else t.controllers.running.save(this.type,this.id,\"Choice\",\"NA\",\"Never\",\"No selection happened\")},this.value=function(){return this.choices.length?this.choices[this.choices.length-1][1]:NaN},this.actions={print:function(i,n){s.apply(this);t.elements.standardCommands.actions.print.apply(this,[()=>{e.apply(this),i()},n])},wait:function(t,i){if(\"first\"==i&&this.choices.length)t();else{let e=!1,s=this.choice;this.choice=(n=>{s.apply(this,[n]),e||(i instanceof Object&&i._runPromises&&i.success?i._runPromises().then(i=>{\"success\"==i&&(e=!0,t())}):(e=!0,t()))})}}},this.settings={button:function(t){this.scaleType=\"buttons\",s.apply(this),t()},callback:function(t,...i){let e=this.choice;this.choice=async function(t){if(e.apply(this,[t]),!this.disabled)for(let t in i)await i[t]._runPromises()},t()},default:function(i,e){this.buttons.indexOf(e)>-1||Number(e)>=0&&Number(e)<this.buttons.length?this.defaultValue=e:console.warn(\"Invalid default value for scale \"+this.id+\" in controller #\"+t.controllers.running.id,e),i()},disable:function(t){i.apply(this),t()},enable:function(t){(function(){this.jQueryElement.find(\"input\").removeAttr(\"disabled\"),this.jQueryElement.find(\"td.PennController-\"+this.type+\"-scaleButton\").css(\"cursor\",\"pointer\"),this.disabled=!1}).apply(this),t()},horizontal:function(t){this.orientation=\"horizontal\",t()},labels:function(t,i){this.labels=i,t()},log:function(t,...i){i.length?this.log=i:this.log=[\"last\"],t()},once:function(t){if(this.hasClicked)i.apply(this);else{let t=this.choice;this.choice=(e=>{t.apply(this,[e]),i.apply(this)})}t()},radio:function(t){this.scaleType=\"radio\",s.apply(this),t()},size:function(i,e,s){this.width=e,t.elements.standardCommands.settings.size.apply(this,[i,e,s])},slider:function(t,i){this.scaleType=\"slider\",s.apply(this),t()},vertical:function(t){this.orientation=\"vertical\",t()}},this.test={selected:function(t){return!!this.choices.length&&(void 0==t||t==this.choices[this.choices.length-1][1])}}})}});","extractedComments":[]}